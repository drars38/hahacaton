# Быстрая загрузка датасетов

## Оптимизированная загрузка из папки

Для загрузки больших CSV файлов используйте команду:

```bash
python manage.py load_datasets "путь_к_папке"
```

### Примеры:

```bash
# Загрузка из папки ТОНАЛЬНОСТЬ
python manage.py load_datasets "C:\Users\arsenii\Desktop\hacaton\ТОНАЛЬНОСТЬ"

# С увеличенным размером батча (для очень больших файлов)
python manage.py load_datasets "C:\Users\arsenii\Desktop\hacaton\ТОНАЛЬНОСТЬ" --batch-size 2000
```

## Что было оптимизировано:

1. **Батчевая обработка текстов** - обработка идет батчами по 1000 записей
2. **Оптимизированное чтение CSV** - используется vectorized операции вместо iterrows
3. **Батчевое сохранение в БД** - bulk_create с батчами для ускорения
4. **Автоматическая обработка всех файлов** - находит и обрабатывает все CSV в папке

## Прогресс загрузки

Команда показывает:
- Количество найденных файлов
- Прогресс обработки каждого файла
- Количество сохраненных записей
- Ошибки (если есть)

## Примечания:

- Файлы, которые уже были загружены, будут пропущены
- При ошибке обработки файл не будет сохранен в БД
- Рекомендуемый batch-size: 1000-2000 для оптимальной производительности

